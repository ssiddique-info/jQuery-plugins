<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<title>Simple Flip Puzzle Effect with jQuery</title>
		<link rel="stylesheet" type="text/css" media="screen, projection" href="style/demo.css" />
		<script src="js/jquery-1.4.1.min.js" type="text/javascript"></script>
		<script src="js/jquery-ui-1.7.2.custom.min.js"></script>
		<script src="js/jquery.flip.min.js"></script>
		<script type="text/javascript">

			$(document).ready(function() {

				var container			= $('#container');
				var containerHeight	= parseInt(container.height())/100;
				var containerWidth	= parseInt(container.width())/100;
				var blockCount			= (containerHeight * containerWidth);

				for(x = 1; x <= blockCount; x++) {

					randomNum			= Math.floor(Math.random()*4) + parseFloat(1);
					container.append('<div class="block' + randomNum + '"></div>');
				}

				$('#container div').addClass('black');

				var stack = {
					'delay': 150,
					'actions': [],
					'run': function() {
						if (stack.actions.length) {
							stack.actions.shift()();
							setTimeout(stack.run, stack.delay);
						}
					}
				};


				$('#container div').each(function(){
					var that = this;
					stack.actions.push(function(){
						$(that).flip({
							color: '#ffffff',
							speed: 70,
							direction:'lr',
							onEnd: function() {
								$(that).removeClass('black');
							}
						});
					});
				});
					stack.run();
			});

		</script>
</head>
<body>


<p class="title">Simple Flip Puzzle Effect with jQuery</p>
<div id="container">
</div>
<br/>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-187022639-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-187022639-1');
</script>
</body>
</html>
